<!DOCTYPE html>
<!--
    Copyright (c) 2012-2016 Adobe Systems Incorporated. All rights reserved.

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->
<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />
    <!-- Good default declaration:
    * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
    * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
    * Disables use of eval() and inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
        * Enable inline JS: add 'unsafe-inline' to default-src
        * Enable eval(): add 'unsafe-eval' to default-src
    * Create your own at http://cspisawesome.com
    -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: 'unsafe-inline' https://ssl.gstatic.com; style-src 'self' 'unsafe-inline'; media-src *" /> -->


    <!-- <link type="text/css" rel="stylesheet" media="screen" href="soto-original-www/jqtouch/jqtouch.css"> -->
    <!-- <link type="text/css" rel="stylesheet" media="screen" href="soto-original-www/themes/jqt/theme.css"> -->
    <!-- <link type="text/css" rel="stylesheet" media="screen" href="soto-original-www/soto.css"> -->



    <!-- <link rel="stylesheet" type="text/css" href="css/index-new.css" /> -->

    <!-- WEINRE DEBUGGING SCRIPT - Comment out for RELEASE -->
    <!--<script src="http://192.168.1.163:3000/target/target-script-min.js#anonymous"></script>-->

    <!-- <script type="text/javascript" src="soto-original-www/jqtouch/jquery.js"></script>
    <script type="text/javascript" src="soto-original-www/jqtouch/jqtouch.js"></script> -->

    <!-- jquery mobile css -->
    <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.5.css" />
    <link rel="stylesheet" type="text/css" href="css/jquery.mobile.theme-1.4.5.css" />

    <!-- custom css -->
    <link rel="stylesheet" type="text/css" href="css/index-new.css" />
    <link rel="stylesheet" type="text/css" href="css/jquery.mobile.datepicker.css" />

    <!-- jquery, jquery mobile and app js -->
    <script type="text/javascript" src="js/jquery-2.2.4.min.js"></script>
    <script type="text/javascript" src="js/jquery.mobile-1.4.5.js"></script>
    <script type="text/javascript" src="js/moment.js">

    </script>

    <!-- datepicker -->
    <script type="text/javascript" src="js/jquery.ui.datepicker.js"></script>
    <script type="text/javascript" src="js/jquery.mobile.datepicker.js"></script>
    <script type="text/javascript" src="js/moment.js"></script>

    <script type="text/javascript" src="soto-original-www/soto_classes.js"></script>
    <script type="text/javascript" src="soto-original-www/soto_migrate_r1_to_r2.js"></script>
    <script type="text/javascript" src="soto-original-www/soto_db.js"></script>
    <script type="text/javascript" src="soto-original-www/soto_observe.js"></script>
    <script type="text/javascript" src="soto-original-www/soto.js"></script>

    <!-- app init -->
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript">
        app.initialize();
    </script>

    <title>SOTO</title>
</head>

<body>
    <div id="home" data-role="page">
        <div class="toolbar" data-role="header" data-position="fixed" data-theme="b">
            <h1>SOTO</h1>
            <a class="button swap" href="#settings" style="display:inherit;">Settings</a>
        </div>
        <ul data-role="listview" data-theme="b">
            <li class="arrow"><a href="#newSessionPanel"><img src="../css/images/icons-svg/action-white.svg" alt="New Observation" class="ui-li-icon ui-corner-none">New Observation</a></li>
            <li class="arrow"><a href="#viewSessionsPanel"><img src="../css/images/icons-svg/clock-white.svg" alt="Reports" class="ui-li-icon ui-corner-none">Reports</a></li>
            <li class="arrow"><a href="#manageStudents"><img src="../css/images/icons-svg/user-white.svg" alt="Students" class="ui-li-icon ui-corner-none">Manage Students</a></li>
            <li class="arrow"><a href="#aboutPanel"><img src="../css/images/icons-svg/info-white.svg" alt="About" class="ui-li-icon ui-corner-none">About</a></li>
            <li class="arrow"><a href="#helpPanel"><img src="../css/images/icons-svg/alert-white.svg" alt="Help" class="ui-li-icon ui-corner-none">Help</a></li>
        </ul>
        <div data-role="footer" data-position="fixed" class="copyrightinfo">
          <span class="copyright">Copyright (C) <script>document.write(new Date().getFullYear())</script> Try Catch Throw</span>
          <span class="copyright">http://trycatchthrow.co/soto</span>
        </div>
    </div>
    <div id="deviceready" class="blink" data-role="page">
        <p class="event listening">Connecting to Device</p>
        <p class="event received">Device is Ready</p>
    </div>
    <div id="newSessionPanel" data-role="page">
        <div class="toolbar" data-role="header" data-position="fixed" data-theme="b">
            <h1>New</h1>
            <a class="button cancel" href="#home">Cancel</a>
        </div>
        <div class="new-observation">
          <div class="listview-wrapper">
            <!-- http://demos.jquerymobile.com/1.4.5/listview-autocomplete/ -->
            <input id="subjectName" data-type="search" placeholder="Student name">
            <ul class="listview" data-role="listview" data-inset="true" data-filter="true" data-filter-reveal="true" data-input="#subjectName">
              <li></li>
            </ul>
          </div>
          <input type="text" placeholder="Class Location" name="classLocation" id="classLocation" autocapitalize="on" autocorrect="off" autocomplete="off" />
          <input type="text" placeholder="Description of Activity" name="activityDescription" id="activityDescription" autocapitalize="on" autocorrect="off" autocomplete="off" />
          <a onclick="saveNewSession()" class="ui-shadow ui-btn ui-corner-all ui-btn-inline ui-btn-icon-left ui-icon-arrow-r">Next</a>
        </div>
    </div>
    <div id="recordSessionPanel" data-role="page">
        <div class="toolbar" data-role="header" data-position="fixed" data-theme="b">
            <h1>Record</h1>
            <a class="button cancel" id="cancelRecordSession" style="display: inline;" href="#home">Cancel</a>
        </div>
        <div id="intervalHeader" class="recordText" data-theme="b">
          <p class="getstarted">Click Start To Begin</p>
          <div class="ui-grid-a">
            <div class="ui-block-a intervalNumberLabel">
              <!-- Interval Count / Peer vs Student Labels -->
              <div id="intervalHeaderText">
                <h4><strong style='color:red;'>Student</strong> Interval Number</h4>
                <span class="digits waitingToStart">0</span>
              </div>
            </div>
            <div class="ui-block-b secondsLabel">
              <!-- Seconds Remaining -->
              <h4>Seconds Remaining</h4>
              <div id="intervalHeaderSecondsLeft">
                <span class="digits waitingToStart">0</span>
              </div>
            </div>

          </div>
          <p class="statuses"><span class="on-task task-status">On Task</span><span class="off-task task-status active">Off Task</span></p>
        </div>
        <form method="post" data-theme="b">
          <div id="observationSessionControls">
            <div id="onTask">
                <div class="observationItem">
                  <input type="checkbox" name="AET" id="AET" disabled onclick="toggleAET()" />
                  <span onclick="clickAET()" class="recordText" id="AETLabel"> Academically Engaged</span>
                </div>
                <div class="observationItem">
                  <input type="checkbox" name="PET" id="PET" disabled onclick="togglePET()" />
                  <span onclick="clickPET()" class="recordText" id="PETLabel"> Passively Engaged</span>
                </div>
            </div>
            <div id="offTask">
                <div class="observationItem">
                  <input type="checkbox" name="OTM" id="OTM" disabled />
                  <span onclick="clickOTM()" class="recordText" id="OTMLabel"> Off-Task MOTOR</span>
                </div>
                <div class="observationItem">
                  <input type="checkbox" name="OTV" id="OTV" disabled />
                  <span onclick="clickOTV()" class="recordText" id="OTVLabel"> Off-Task VERBAL</span>
                </div>
                <div class="observationItem">
                  <input type="checkbox" name="OTP" id="OTP" disabled />
                  <span onclick="clickOTP()" class="recordText" id="OTPLabel"> Off-Task PASSIVE</span>
                </div>
            </div>
            <fieldset class="ui-grid-b">
                <div class="ui-block-a">
                  <input id="recordSessionPanelStartButton" type="submit" class="submit" name="action" value="Start" />
                </div>
                <div class="ui-block-b">
                  <input id="recordSessionPanelPauseButton" onclick="pauseRecordingSession()" type="button" name="pause" value="Pause" />
                </div>
                <div class="ui-block-c">
                  <input id="recordSessionPanelEndButton" onclick="endRecordingSession()" type="button" name="end" value="End" />
                </div>
            </fieldset>
            <fieldset>
              <input id="recordSessionIntervalNotesButton" onclick="captureNotes()" type="button" value="Record Notes For Interval X" />
            </fieldset>
          </div>
        </form>
    </div>
    <div id="intervalNotes" data-role="page">
      <div class="toolbar" data-role="header" data-position="fixed" data-theme="b">
          <h1>Notes</h1>
          <a class="button back" href="#recordSessionPanel">Back To Session</a>
      </div>
      <div class="ui-field-contain notes-form">
        <label for="notes">Notes:</label>
        <textarea name="notes" id="notes"></textarea>
      </div>
      <a id="saveNotes" name="saveNotes" data-role="button" value="Save" href="#recordSessionPanel">Save</a>
    </div>
    <div id="viewSessionsPanel" data-role="page">
        <div class="toolbar" data-role="header" data-position="fixed" data-theme="b">
            <h1>Sessions</h1>
            <a class="button back" href="#home">Back</a>
        </div>
        <ul data-role="listview">
            <li id="savedSessionItem" class="entry savedSessionItem" style="display:none">
                <div class="sessionInfo">
                  <div class="subjectName" id="subjectName">Label</div>
                  <div class="metaData classLocation" id="classLocation">000</div>
                  <div class="metaData observationDate" id="observationDate">000</div>
                </div>
                <a class="delete"data-role="button" data-icon="delete" data-iconpos="notext" data-theme="b" data-inline="true"></a>
            </li>
        </ul>
    </div>
    <div id="observationResultsPanel" data-role="page">
        <div class="toolbar" data-role="header" data-position="fixed" data-theme="b">
            <h1 id="reportTitle">Report</h1>
            <a class="button back" href="#viewSessionsPanel">Back</a>
        </div>
        <div class="resultspanel">
          <div class="reportSection" id="observationMetaData">
            <span class="reportLabel">Location: </span><span class="reportValue" id="omdLoc">&nbsp;</span>
            <span class="reportLabel">Date: </span><span class="reportValue" id="omdDate">&nbsp;</span>
            <span class="reportLabel">Activity: </span><span class="reportValue" id="omdActivity">foo</span>
          </div>
          <div class="reportSection" id="emailReport">
              <span class="reportLabel">Email: </span><span class="reportValue" id="omdSendReport">
              <input id="sendReportButton" onclick="sendReport()" type="button" name="pause" value="Send Report" />
              <!-- a id="sendReportLink" href="#" onclick="sendReport()" >Send this report</a--></span>
          </div>
          <div class="reportSection" id="summaryTable">
            <div id="reportDataContainer">
              <p>								<span class="reportRowHeader"	 id="empty"></span>						<span class="reportColumnHeader subjectData" id="reportHeaderSubject">Subject</span>	<span class="reportColumnHeader peerData"	id="reportHeaderPeer">Peer</span>	</p>
              <p class="reportRowHeading">	<span class="reportRowHeader"	 id="reportLabelOnTask">On-Task</span>	<span class="reportColumnData subjectData" id="reportDataOnTaskSubject"></span>			<span class="reportColumnData peerData"		id="reportDataOnTaskPeer"></span>	</p>
              <p class="reportRowSubHeading">	<span class="reportRowSubHeader" id="reportLabelAET">AET</span>			<span class="reportColumnSubData subjectData" id="reportDataAETSubject"></span>			<span class="reportColumnSubData peerData"	id="reportDataAETPeer"></span>		</p>
              <p class="reportRowSubHeading">	<span class="reportRowSubHeader" id="reportLabelPET">PET</span>			<span class="reportColumnSubData subjectData" id="reportDataPETSubject"></span>			<span class="reportColumnSubData peerData"	id="reportDataPETPeer"></span>		</p>
              <p class="reportRowHeading">	<span class="reportRowHeader"	 id="reportLabelOffTask">Off-Task</span><span class="reportColumnData subjectData" id="reportDataOffTaskSubject"></span>		<span class="reportColumnData peerData"		id="reportDataOffTaskPeer"></span>	</p>
              <p class="reportRowSubHeading">	<span class="reportRowSubHeader" id="reportLabelOTM">OTM</span>			<span class="reportColumnSubData subjectData" id="reportDataOTMSubject"></span>			<span class="reportColumnSubData peerData"	id="reportDataOTMPeer"></span>		</p>
              <p class="reportRowSubHeading">	<span class="reportRowSubHeader" id="reportLabelOTV">OTV</span>			<span class="reportColumnSubData subjectData" id="reportDataOTVSubject"></span>			<span class="reportColumnSubData peerData"	id="reportDataOTVPeer"></span>		</p>
              <p class="reportRowSubHeading">	<span class="reportRowSubHeader" id="reportLabelOTP">OTP</span>			<span class="reportColumnSubData subjectData" id="reportDataOTPSubject"></span>			<span class="reportColumnSubData peerData"	id="reportDataOTPPeer"></span>		</p>
            </div>
          </div>
        </div>
          <div class="reportSection">
            <div class="chartContainer" style="color:white; text-align:center;">
              <span class="chartTitle">On-Task / Off-Task</span>
              <canvas id="can" height="200" width="280" style="border:'red 1px solid'"></canvas>
            </div>
            <div class="chartContainer" style="color:white; text-align:center;">
              <span class="chartTitle">AET / PET</span>
              <canvas id="onTaskCanvas" height="200" width="280"></canvas>
            </div>
            <div class="chartContainer" style="color:white; text-align:center;">
              <span class="chartTitle">OTM / OTV / OTP</span>
              <canvas id="offTaskCanvas" height="200" width="280"></canvas>
            </div>
          </div>
          <div class="reportSection" id = "rawDataDump">
          </div>
        </div>
<!--

          <h1 class="reportHeader">Raw Data</h1>
                <ul class="edgetoedge">
                    <li id="intervalDataItems" class="entry" style="display:none">
                        <span class="peer"></span>
                        <span class="intervalNumber">Label</span>
                        <span class="onTask"></span>
                        <span class="offTasks"></span>
                    </li>
                </ul>
            </div>
  -->
    <div id="manageStudents" class="blink" data-role="page">
        <div class="toolbar" data-role="header" data-position="fixed" data-theme="b">
            <h1>Manage Students</h1>
            <a class="button swap" href="#home" style="display:inherit;">Home</a>
        </div>
        <ul data-role="listview" data-theme="b">
            <li id="savedStudentItem"><a id="savedStudentName">Student 1</a></li>
        </ul>
    </div>
    <div id="studentSessions" class="blink" data-role="page">
        <div class="toolbar" data-role="header" data-position="fixed" data-theme="b">
            <h1 id="studentName">Manage Students</h1>
            <a class="button swap" href="#manageStudents" style="display:inherit;">All Students</a>
        </div>
        <div>
          <h2>Student Data Goes Here</h2>
        </div>
    </div>
    <div id="modifyStudent" class="blink" data-role="page">
      <div class="toolbar" data-role="header" data-position="fixed" data-theme="b">
          <h1 id="currentStudentHeader">Current Student</h1>
          <a class="button swap" href="#manageStudents" style="display:inherit;">Back</a>
      </div>
      <div class="modify-student">
        <input type="hidden" name="modifyStudentId" id="modifyStudentId" />
        <label for="studentName">Name:</label>
          <input type="text" placeholder="Student Name" name="modifyStudentName" id="modifyStudentName" autocapitalize="on" autocorrect="off" autocomplete="off" />
        <label for="dateOfBirth">DOB:</label>
          <input data-role="date" data-clear-btn="true" name="modifyDateOfBirth" id="modifyDateOfBirth" value="">
        <label for="dateAdded">Date Added:</label>
          <input data-role="date" data-clear-btn="false" name="modifyDateAdded" id="modifyDateAdded" value="">
        <a onclick="modifySaveStudent()" class="ui-shadow ui-btn ui-corner-all ui-btn-inline ui-btn-icon-left ui-icon-arrow-r">Save</a>
      </div>
    </div>
    <div id="aboutPanel" data-role="page">
        <div class="toolbar" data-role="header" data-position="fixed" data-theme="b">
            <h1>About</h1>
            <a class="button back" href="#home">Back</a>
        </div>

        <div class="about">
            <p>The SOTO (<i>Student On-Task Observation</i>) App helps you gather, analyze and document &quot;on-task / off-task&quot; observation data of your students.</p>
            <p>Our goal is to provide a simple, intuitive app that makes behavioral observation fast and easy for everyone.  We hope this app helps save you time and effort with accurate data collection and reporting.</p>
            <!-- <a href="https://www.linkedin.com/in/ed-shapiro-22758111"> -->
            <p><b>Special credit and acknowledgement</b> goes to <u><b>Dr. Edward S. Shapiro, Ph.D.</b></u></a> for his book <u>Academic Skills Problems - Direct Assessment and Intervention</u>, and the definitions of his interval codings for the Behavioral Observation of Students.</p>
            <p class="version">Current Version: <strong>1.3.0</strong></p>
            <p>Email us at <a style="color: #0080ff" href="mailto:support@trycatchthrow.co?subject=SOTO Support Email: " target="_blank">support@trycatchthrow.co</a></p>
        </div>
    </div>
    <div id="helpPanel" data-role="page">
        <div class="toolbar" data-role="header" data-position="fixed" data-theme="b">
            <h1>Help</h1>
            <a class="button back" href="#home">Back</a>
        </div>
        <div class="help">
            <h2>Settings</h2>
            <p>From the home page, click on the "Settings" button in the top right corner of the screen.</p>
            <p><b>Interval Length</b> - This setting represents how long each observation interval will last (in seconds).  The default recommended length is 15 seconds.</p>
            <p><b>Peer Interval</b> - This setting is the interval factor for when you want to observe a peer, for comparing against your subject student.  For example, if you enter 5, then every 5th interval will be a peer observation.</p>
            <p><b>Default Email</b> - This is the default email you want SOTO reports to be sent to. You are able to modify recipients before sending any report.</p>
            <p><b>Vibrate New Intervals</b> - Check this box if you want the SOTO to vibrate your device just before the start of a new interval</p>
            <h2>New Observation</h2>
            <p>Click on this item to begin recording a new observation session.  You are required to enter the student's name, the location of the observation and optionally, a description of the activity or setting being observed.</p>
            <p>After entering this information, click on the "Next" button to continue.</p>
            <h2>Record</h2>
            <p>The first two checkboxes record when you observe that the student is "On-Task".  You should make this determination within the <b>first few seconds</b> of every interval.</p>
            <p>If you observe that the student is "On-Task", then check whether the student is "Academically Engaged" or "Passively Engaged".</p>
            <p>If you observe that the student is "Off-task", then do <u>NOT</u> select either of these two checkboxes.  The interval will then be recorded as "off-task".</p>
            <p>The last three checkboxes indicate any type of "Off-Task" observation throughout the duration of a given interval.  If at any time during the interval, you observe the student being "Off-Task", then select all appropriate "Off-Task" types.</p>
            <p><b>TIP: </b>It is possible that in the beginning of the interval, you recorded that the student is "On-Task", but then later in the interval, you observe that the student was "Off-Task".</p>

            <p><b>START</b> - Simply click the start button when you're ready to begin your observations.</p>
            <p><b>PAUSE</b> - Click the pause button when for any reason you need to temporarily stop the observation.  Click the "start" button again to resume your session.</p>
            <p><b>END</b> - When you are finished with your session, click the END button.  This will save all of your recorded data.</p>
            <h2>Reports</h2>
            <p>This page will list all of your recorded observation sessions, in order by the date of each observation.  Simply click on any observation listing, and this will take you to the Reports page.</p>
            <p>When you view a report, there is a button near the top that will send the report and graphs via email.</p>
            <p><b>TIP: </b>You must have email configured on your mobile device in order to send out SOTO reports.  SOTO Graphs are included as PNG image attachments, which you can then copy and use in your own report documentation.</p>
        </div>
    </div>
    <div id="settings" data-role="page">
        <div class="toolbar" data-role="header" data-position="fixed" data-theme="b">
            <h1>Settings</h1>
            <a class="button cancel" href="#home">Cancel</a>
        </div>
        <div class="settings-form">
          <form method="post">
              <label>Interval Length (in seconds)<input placeholder="Interval Length" type="text" name="intervalLength" id="intervalLength" /></label>
              <label>Peer Interval<input placeholder="Peer Intervals" type="text" name="peerInterval" id="peerInterval" /></label>
              <label>Default Email<input placeholder="your_email@school.edu" type="text" name="userEmail" id="userEmail" autocapitalize="false" /></label>
              <label><input type="checkbox" name="autoSendEmails" id="autoSendEmails" /> Auto-Send Emails</label>
              <label><input type="checkbox" name="vibrateNewIntervals" id="vibrateNewIntervals" /> Vibrate New Intervals</label>
              <label><input type="submit" class="submit" name="action" value="Save Changes" /></label>
          </form>
        </div>
    </div>
</body>

</html>
